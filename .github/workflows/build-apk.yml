# .github/workflows/android.yml
name: Modern Android Build

on: [push]

jobs:
  build:
    runs-on: ubuntu-latest
    container:
      image: ghcr.io/kivy/beem-builder:latest
      
    steps:
    - uses: actions/checkout@v4
    
    - name: Build with BEEM
      run: |
        # Всё предустановлено в контейнере
        beem init
        beem add python==3.11
        beem add kivy==2.3.0
        beem build android --optimize
        
    - uses: actions/upload-artifact@v4
      with:
        name: app-release
        path: dist/*.apk